var gaeMapper=function(){if("undefined"!=typeof ga_options){function e(e){var a="";return"class"===e.type?a+=".":"id"===e.type&&(a+="#"),a+=e.name}for(var a=[],n=ga_options.click_elements,t=0;t<n.length;t++){var o=n[t];newClickElement={};var r="true"===o.bounce;newClickElement.data={select:e(o),category:o.category,action:o.action,label:o.label,bounce:r,evalue:o.value,link_click_delay:parseInt(ga_options.link_clicks_delay),universal:parseInt(ga_options.universal)},newClickElement.selector=newClickElement.data.select,a.push(newClickElement)}var i=ga_options.scroll_elements,l=[];return void 0!==i&&i.forEach(function(a){var n="true"===a.bounce;l.push({select:e(a),category:a.category,action:a.action,label:a.label,bounce:n,evalue:a.value})}),{clickElementsFromDB:a,scrollElementsFromDB:l,advancedMode:ga_options.advanced,forceSnippet:ga_options.force_snippet,emailLinksTracking:ga_options.email_link_tracking,telLinksTracking:ga_options.tel_link_tracking,downloadTracking:ga_options.download_tracking,downloadTrackingFileTypes:ga_options.download_tracking_type,link_clicks_delay:ga_options.link_clicks_delay,snippet_type:ga_options.snippet_type,isFrontPage:gaePlaceholders.is_front_page,pageTitle:gaePlaceholders.page_title,scriptDebugMode:ga_options.script_debug_mode}}}();gaEventsMain=function(e){"use strict";var a;function n(){for(var a=e(window).height(),n=e(document).scrollTop(),t=0;t<gaeMapper.scrollElementsFromDB.length;t++)if(!gaeMapper.scrollElementsFromDB[t].sent){var r=e(gaeMapper.scrollElementsFromDB[t].select);gaeMapper.scrollElementsFromDB[t].offset=r.offset(),gaeMapper.scrollElementsFromDB[t].offset&&n+a>=gaeMapper.scrollElementsFromDB[t].offset.top+r.height()&&(o(gaeMapper.scrollElementsFromDB[t].category,gaeMapper.scrollElementsFromDB[t].action,gaeMapper.scrollElementsFromDB[t].label,gaeMapper.scrollElementsFromDB[t].bounce,gaeMapper.scrollElementsFromDB[t].evalue),gaeMapper.scrollElementsFromDB[t].sent=!0)}}e(document).ready(function(){gaeMapper.clickElementsFromDB.forEach(function(a){e("body").on("click",a.selector,a.data,u)}),"1"===gaeMapper.downloadTracking&&gaeMapper.downloadTrackingFileTypes.forEach(function(a){var n=a.toLowerCase(),o=a.toUpperCase();e("body").on("click",'a[href$=".'+n+'"]',t),e("body").on("click",'a[href$=".'+o+'"]',t)}),"1"===gaeMapper.emailLinksTracking&&e("body").on("click",'a[href^="mailto:"]',function(e){e.preventDefault();var a=this.href.split(":").pop(),n=v();o(n,"Email Link",a,!1,""),d(this,e)}),"1"===gaeMapper.telLinksTracking&&e("body").on("click",'a[href^="tel:"]',function(e){e.preventDefault();var a=this.href.split(":").pop(),n=v();o(n,"Telephone Number Link",a,!1,""),d(this,e)}),e(window).on("scroll",n)});var t=function(e){e.preventDefault();var a=this.href.split("/").pop(),n=v();o(n,"Download",a,!1,""),d(this,e)},o=function(e,n,t,o,u){if(void 0===a)if("undefined"!=typeof ga)a=ga;else if("undefined"!=typeof _gaq)a=_gaq;else if("function"==typeof __gaTracker)a=__gaTracker;else if("function"==typeof gaplusu)a=gaplusu;else if("gtm"!==gaeMapper.snippet_type&&"undefined"==typeof dataLayer)return;e=e||"uncategorized",n=n||"",t=t||"";var d=u||"",_=o||!1;switch(gaeMapper.forceSnippet){case"none":i()?s(e,n,t,d,_):r()?p(e,n,t,d,_):l()?g(e,n,t,d,_):c()&&f(e,n,t,d,_);break;case"gtm":p(e,n,t,d,_);break;case"gst":s(e,n,t,d,_);break;case"universal":g(e,n,t,d,_)}},r=function(){return"gtm"===gaeMapper.snippet_type||"undefined"!=typeof dataLayer&&"undefined"==typeof gtag},i=function(){return"gst"===gaeMapper.snippet_type||"undefined"!=typeof gtag},l=function(){return"universal"===gaeMapper.snippet_type||"undefined"!=typeof ga||"function"==typeof __gaTracker},c=function(){return"legacy"===gaeMapper.snippet_type||"undefined"!=typeof _gaq},p=function(e,a,n,t,o){dataLayer.push({event:"WPGAE",eventCategory:e,eventAction:a,eventLabel:n,eventValue:t,nonInteraction:o})},s=function(e,a,n,t,o){gtag("event",a,{event_category:e,event_label:n,value:t,non_interaction:o})},g=function(e,n,t,o,r){o?a("send","event",e,n,t,o,{nonInteraction:r}):a("send","event",e,n,t,{nonInteraction:r})},f=function(e,n,t,o,r){a.push(["_trackEvent",e,n,t,o,r])},u=function(e){o(e.data.category,e.data.action,e.data.label,e.data.bounce,e.data.evalue,this),void 0!==e.data.link_click_delay&&e.data.link_click_delay>0&&void 0!==e.target.href&&"A"==e.target.nodeName&&d(this,e)},d=function(a,n){n.preventDefault();var t,o=_(n),r=function(a){var n=e(a).attr("target");return void 0!==n&&"_blank"===n.trim()}(a);r&&(t=window.open("","_blank"));var i=k(o);void 0!==i&&""!==i?window.location.hash=i:window.location.href!==o&&setTimeout(function(){r?t.location.href=o:window.location=o},parseInt(gaeMapper.link_clicks_delay),t)},_=function(a){return"A"!==a.target.tagName?e(a.target).parents("a").attr("href"):a.target.href},k=function(e){return void 0!==e&&0===e.indexOf("#")?e:""};function v(){return"1"===gaeMapper.isFrontPage?"Home":void 0!==gaeMapper.pageTitle?gaeMapper.pageTitle:""}}(jQuery);